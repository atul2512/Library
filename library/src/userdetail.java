/*
 * userdata.java
 *
 * Created on August 19, 2006, 9:28 PM
 */

/**
 *
 * @author  mukesh
 */

import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
import java.sql.*;
import javax.swing.table.*;
import java.util.*;
import java.io.*; 
public class userdetail extends javax.swing.JFrame {
    
    /** Creates new form userdata */
    public userdetail() {
        
		
		initComponents();
    }
    
    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    // <editor-fold defaultstate="collapsed" desc=" Generated Code ">
    private void initComponents() {
        jLabel2 = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        jLabel4 = new javax.swing.JLabel();
        jLabel5 = new javax.swing.JLabel();
        jLabel6 = new javax.swing.JLabel();
        click = new javax.swing.JButton();
        userid = new javax.swing.JLabel();
        jLabel8 = new javax.swing.JLabel();
        name = new javax.swing.JLabel();
        gender = new javax.swing.JLabel();
        department = new javax.swing.JLabel();
        course = new javax.swing.JLabel();
        semester = new javax.swing.JLabel();
        jLabel14 = new javax.swing.JLabel();
        jLabel15 = new javax.swing.JLabel();
        page = new javax.swing.JLabel();
        jLabel7 = new javax.swing.JLabel();
        name1 = new javax.swing.JLabel();
        name2 = new javax.swing.JLabel();
        name3 = new javax.swing.JLabel();
        name4 = new javax.swing.JLabel();
		 name11 = new javax.swing.JLabel();
        name22 = new javax.swing.JLabel();
        name33 = new javax.swing.JLabel();
        name44 = new javax.swing.JLabel();

        getContentPane().setLayout(null);

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setFont(new java.awt.Font("Arial", 1, 14));
        jLabel2.setFont(new java.awt.Font("Tahoma", 1, 14));
        jLabel2.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel2.setText("USER NAME :");
        getContentPane().add(jLabel2);
        jLabel2.setBounds(30, 130, 110, 30);

        jLabel3.setFont(new java.awt.Font("Tahoma", 1, 14));
        jLabel3.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel3.setText("GENDER :");
        getContentPane().add(jLabel3);
        jLabel3.setBounds(40, 170, 90, 30);

        jLabel4.setFont(new java.awt.Font("Tahoma", 1, 14));
        jLabel4.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel4.setText("DEPARTMENT :");
        getContentPane().add(jLabel4);
        jLabel4.setBounds(20, 210, 120, 30);

        jLabel5.setFont(new java.awt.Font("Tahoma", 1, 14));
        jLabel5.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel5.setText("COURSE :");
        getContentPane().add(jLabel5);
        jLabel5.setBounds(30, 250, 110, 30);

        jLabel6.setBackground(new java.awt.Color(255, 255, 204));
        jLabel6.setFont(new java.awt.Font("Tahoma", 1, 18));
        jLabel6.setForeground(new java.awt.Color(102, 0, 51));
        jLabel6.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel6.setText(" DETAILS OF USER");
        getContentPane().add(jLabel6);
        jLabel6.setBounds(50, 80, 190, 30);

        click.setFont(new java.awt.Font("Tahoma", 1, 14));
        click.setText("RETURN");
        click.setToolTipText("CLICK TO RETURN");
		click.addActionListener(new ActionListener(){
  			public void actionPerformed(ActionEvent evt)
			{
					setVisible(false);
				  // UserPage uppp=new UserPage();
            }
        });
        getContentPane().add(click);
        click.setBounds(580, 450, 100, 40);

        userid.setBackground(new java.awt.Color(255, 255, 204));
        userid.setFont(new java.awt.Font("Tahoma", 1, 18));
        userid.setForeground(new java.awt.Color(0, 102, 102));
        userid.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        userid.setText(userlogin.student);
        getContentPane().add(userid);
        userid.setBounds(100, 10, 170, 30);

        jLabel8.setFont(new java.awt.Font("Tahoma", 1, 14));
        jLabel8.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel8.setText("SEMESTER :");
        getContentPane().add(jLabel8);
        jLabel8.setBounds(30, 290, 110, 30);

        name.setFont(new java.awt.Font("Tahoma", 1, 14));
        name.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        name.setText("fill user name");
        getContentPane().add(name);
        name.setBounds(170, 130, 150, 30);

        gender.setFont(new java.awt.Font("Tahoma", 1, 14));
        gender.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        gender.setText("fill gender");
        getContentPane().add(gender);
        gender.setBounds(170, 170, 150, 30);

        department.setFont(new java.awt.Font("Tahoma", 1, 14));
        department.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        department.setText("fill deparment");
        getContentPane().add(department);
        department.setBounds(170, 210, 150, 30);

        course.setFont(new java.awt.Font("Tahoma", 1, 14));
        course.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        course.setText("fill couse");
        getContentPane().add(course);
        course.setBounds(170, 250, 150, 30);

        semester.setFont(new java.awt.Font("Tahoma", 1, 14));
        semester.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        semester.setText("fill semester");
        getContentPane().add(semester);
        semester.setBounds(170, 290, 150, 30);

        jLabel14.setFont(new java.awt.Font("Tahoma", 1, 14));
        jLabel14.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel14.setText("FINE :");
        getContentPane().add(jLabel14);
        jLabel14.setBounds(70, 430, 80, 30);

        jLabel15.setFont(new java.awt.Font("Tahoma", 1, 14));
        jLabel15.setText(" fill fine");
        getContentPane().add(jLabel15);
        jLabel15.setBounds(210, 430, 130, 30);

        page.setBackground(new java.awt.Color(255, 255, 204));
        page.setFont(new java.awt.Font("Tahoma", 1, 18));
        page.setForeground(new java.awt.Color(0, 102, 102));
        page.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        page.setText("PAGE");
        getContentPane().add(page);
        page.setBounds(300, 10, 90, 30);

        jLabel7.setBackground(new java.awt.Color(255, 255, 204));
        jLabel7.setFont(new java.awt.Font("Tahoma", 1, 18));
        jLabel7.setForeground(new java.awt.Color(102, 0, 51));
        jLabel7.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel7.setText("books taken      returndate");
        getContentPane().add(jLabel7);
        jLabel7.setBounds(440, 60, 300, 30);

        name1.setFont(new java.awt.Font("Tahoma", 1, 14));
        name1.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        name1.setText("book1");
        getContentPane().add(name1);
        name1.setBounds(410, 120, 140, 30);

        name2.setFont(new java.awt.Font("Tahoma", 1, 14));
        name2.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        name2.setText("book2");
        getContentPane().add(name2);
        name2.setBounds(410, 150, 140, 30);

        name3.setFont(new java.awt.Font("Tahoma", 1, 14));
        name3.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        name3.setText("book3");
        getContentPane().add(name3);
        name3.setBounds(410, 180, 140, 30);

        name4.setFont(new java.awt.Font("Tahoma", 1, 14));
        name4.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        name4.setText("book4");
        getContentPane().add(name4);
        name4.setBounds(410, 220, 140, 30);
		
		name11.setFont(new java.awt.Font("Tahoma", 1, 14));
        name11.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        name11.setText("book1");
        getContentPane().add(name11);
        name11.setBounds(610, 120, 140, 30);

        name22.setFont(new java.awt.Font("Tahoma", 1, 14));
        name22.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        name22.setText("book2");
        getContentPane().add(name22);
        name22.setBounds(610, 150, 140, 30);

        name33.setFont(new java.awt.Font("Tahoma", 1, 14));
        name33.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        name33.setText("book3");
        getContentPane().add(name33);
        name33.setBounds(610, 180, 140, 30);

        name44.setFont(new java.awt.Font("Tahoma", 1, 14));
        name44.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        name44.setText("book4");
        getContentPane().add(name44);
        name44.setBounds(610, 220, 140, 30);
		
		

        pack();
		
		setSize(800,600);
		setLocation(50,50);
		setVisible(true);
    }// </editor-fold>
    
    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        userdetail udd=new userdetail();
		
    }
    
    // Variables declaration - do not modify
    private javax.swing.JButton click;
    private javax.swing.JLabel course;
    private javax.swing.JLabel department;
    private javax.swing.JLabel gender;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel name;
    private javax.swing.JLabel name1;
    private javax.swing.JLabel name2;
    private javax.swing.JLabel name3;
    private javax.swing.JLabel name4;
	private javax.swing.JLabel name11;
    private javax.swing.JLabel name22;
    private javax.swing.JLabel name33;
    private javax.swing.JLabel name44;
    private javax.swing.JLabel page;
    private javax.swing.JLabel semester;
    private javax.swing.JLabel userid;
	String usname;
	String usgender;
	String usdep; 
	String uscor;
	String ussem ;
	//String book;
	int count=0;
	String book[]=new String[10];
	String rdate[]=new String[10];
	int i=0;
	int k=0;
    // End of variables declaration
	
	void usrdetail()
		{
				Connection con=null;
				String url="jdbc:odbc:BITSLibrary";
				Statement st=null;
				
			  try
			  {
					Class.forName("sun.jdbc.odbc.JdbcOdbcDriver");
					
			   		con=DriverManager.getConnection(url);
					
			   		st = con.createStatement();
					
	      
				ResultSet rs=st.executeQuery("Select * from userdata where useridno='"+userlogin.student+"'");
				while(rs.next()){
				
					
					 usname = rs.getString(2);
					 System.out.println(usname);
					
					 usgender=rs.getString(3);
					//System.out.println(usgender);
				//usgender = rs.getString(2);
			 usdep = rs.getString(4);
				uscor = rs.getString(5);
				ussem = rs.getString(6);
					
					
					/*gender.setText(usgender);
					department.setText(usdep);
					course.setText(uscor);
					semester.setText(ussem);*/
					
						}
						 name.setText(usname);
					gender.setText(usgender);
					department.setText(usdep);
					course.setText(uscor);
					semester.setText(ussem);
				ResultSet rsss=st.executeQuery("Select * from bk where bissueto = '"+userlogin.student+"'");
				while(rsss.next()){
				count++;
				}
				System.out.println(count);		
			ResultSet rss=st.executeQuery("Select * from bk where bissueto = '"+userlogin.student+"'");
				while(rss.next()){
				
			book[i] =rss.getString("bname");
			System.out.println(book[i]);
			i++;
				}
				
				ResultSet rsd=st.executeQuery("Select * from bk where bissueto = '"+userlogin.student+"'");
				while(rsd.next()){
				rdate[k] =rsd.getString("returndate");
			System.out.println(rdate[k]);
			k++;
				}
				name1.setText(book[0]);
				name2.setText(book[1]);
				name3.setText(book[2]);
				name4.setText(book[3]);
				name11.setText(rdate[0]);
				name22.setText(rdate[1]);
				name33.setText(rdate[2]);
				name44.setText(rdate[3]);
				
				
				
						
						//rs.close();
						st.close();
						con.close();	
								 					
					
			  }
			  catch(SQLException ex)
			   {
			    System.out.println("Unable to access the database");
			   }
			catch(ClassNotFoundException ex)
			{
		 System.out.println("Class not found");
			 }
			  catch(Exception ex)
			  {
               System.out.println("Exception raised is:"+ex);
			  }
			 
		}
	

    
}
