/*
 * AdminPage.java
 *
 * Created on August 22, 2006, 9:46 PM
 */

/**
 *
 * @author  mukesh
 */
 import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
import java.sql.*;
import javax.swing.table.*;
public class LogPage extends javax.swing.JFrame {
    
    /** Creates new form AdminPage */
    public LogPage() {
        initComponents();
    }
    
    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    // <editor-fold defaultstate="collapsed" desc=" Generated Code ">
    private void initComponents() {
        heading = new javax.swing.JLabel();
        heading1 = new javax.swing.JLabel();
		dt = new javax.swing.JLabel();
		dtt = new javax.swing.JLabel();
        heading2 = new javax.swing.JLabel();
        heading3 = new javax.swing.JLabel();
        adminlog = new javax.swing.JButton();
        liblog = new javax.swing.JButton();
        userlog = new javax.swing.JButton();
        jButton1 = new javax.swing.JButton();
		bookdetail = new javax.swing.JButton();
		userdetail = new javax.swing.JButton();
		search = new javax.swing.JButton();

        getContentPane().setLayout(null);

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setTitle("ADMINISTRATOR PAGE");
        setForeground(new java.awt.Color(254, 215, 3));
        heading.setFont(new java.awt.Font("Tahoma", 3, 18));
        heading.setForeground(new java.awt.Color(102, 0, 0));
        heading.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        heading.setText("CENTERAL LIBRARY BITS PILANI.");
        getContentPane().add(heading);
        heading.setBounds(380, 20, 310, 30);

        heading1.setFont(new java.awt.Font("Tahoma", 3, 14));
        heading1.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        heading1.setText("ADMINISTRATOR LOGIN:");
        getContentPane().add(heading1);
        heading1.setBounds(110, 180, 210, 30);
		
		dt.setFont(new java.awt.Font("Tahoma", 3,24));
       // dt.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        dt.setText("Date :");
        getContentPane().add(dt);
        dt.setBounds(380,60, 110, 30);
		
		dtt.setFont(new java.awt.Font("Tahoma", 3, 24));
        //dtt.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
		cdate ddd=new cdate();
		     //datt=ddd.todaydate.toString();
			// dtt.setText("");
        dtt.setText(ddd.todaydate.toString());
        getContentPane().add(dtt);
        dtt.setBounds(470,60, 300, 30);

        heading2.setFont(new java.awt.Font("Tahoma", 3, 14));
        heading2.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        heading2.setText("LIBRARIAN  LOGIN:");
        getContentPane().add(heading2);
        heading2.setBounds(110, 250, 210, 30);

        heading3.setFont(new java.awt.Font("Tahoma", 3, 14));
        heading3.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        heading3.setText("USER LOGIN");
        getContentPane().add(heading3);
        heading3.setBounds(110, 320, 210, 30);

        adminlog.setText("LOGIN");
        adminlog.setToolTipText("Administrator login ");
		adminlog.addActionListener(new ActionListener(){
  			public void actionPerformed(ActionEvent evt)
			{
				    setVisible(false);
					adminlog adlog= new adminlog();
	
            }
        });
        getContentPane().add(adminlog);
        adminlog.setBounds(380, 180, 120, 30);

        liblog.setText("LOGIN");
        liblog.setToolTipText("Staff login");
		liblog.addActionListener(new ActionListener(){
  			public void actionPerformed(ActionEvent evt)
			{
				    setVisible(false);
					stafflog stf=new stafflog();
	
            }
        });
        getContentPane().add(liblog);
        liblog.setBounds(380, 250, 120, 30);

        userlog.setText("LOGIN");
        userlog.setToolTipText("User Login");
		userlog.addActionListener(new ActionListener(){
  			public void actionPerformed(ActionEvent evt)
			{
				   setVisible(false);
					userlogin ull=new userlogin();
	
            }
        });
        getContentPane().add(userlog);
        userlog.setBounds(380, 310, 120, 30);

        jButton1.setFont(new java.awt.Font("Tahoma", 1, 14));
        jButton1.setText("EXIT");
        jButton1.setToolTipText("EXIT");
		jButton1.addActionListener(new ActionListener(){
  			public void actionPerformed(ActionEvent evt)
			{
					
				    setVisible(false);
					FirstPage1 fppp=new FirstPage1();
	
            }
        });
		getContentPane().add(jButton1);
        jButton1.setBounds(560, 440, 100, 50);
		
		bookdetail.setText("BOOK'S TABLE");
        bookdetail.setToolTipText("click to see all the book");
		bookdetail.addActionListener(new ActionListener(){
  			public void actionPerformed(ActionEvent evt)
			{
					
				//ListBook lb= new  ListBook();
				listboks();
				   //lb.listbok();
	
            }
        });
        getContentPane().add(bookdetail);
        bookdetail.setBounds(60, 440, 200, 30);
		
		userdetail.setText("MEMBERS'S TABLE");
        userdetail.setToolTipText("click to see all the members");
		userdetail.addActionListener(new ActionListener(){
  			public void actionPerformed(ActionEvent evt)
			{
					
				listmem();
					
            }
        });
        getContentPane().add(userdetail);
        userdetail.setBounds(60, 400, 200, 30);
		
		search.setText("SEARCH BOOK");
        search.setToolTipText("click to search book");
		search.addActionListener(new ActionListener(){
  			public void actionPerformed(ActionEvent evt)
			{
					
				SearchBook sb=new SearchBook();
					
            }
        });
        getContentPane().add(search);
        search.setBounds(60, 480, 200, 30);


		
        pack();
		setSize(800,600);
		setLocation(50,50);
		setVisible(true);
    }// </editor-fold>
    
    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        LogPage lp=new LogPage();
    }
    
    // Variables declaration - do not modify
    private javax.swing.JButton adminlog;
    private javax.swing.JLabel heading;
    private javax.swing.JLabel heading1;
	private javax.swing.JLabel dt;
	private javax.swing.JLabel dtt;
    private javax.swing.JLabel heading2;
    private javax.swing.JLabel heading3;
    private javax.swing.JButton jButton1;
    private javax.swing.JButton liblog;
    private javax.swing.JButton userlog;
	private javax.swing.JButton bookdetail;
	private javax.swing.JButton userdetail;
	private javax.swing.JButton search;
	private  static String datt;
    // End of variables declaration
	
	
	//**********************************************************List books******************************************************
	public static void listboks(){
		
	 JTable table;
	 JScrollPane jsp;
	 Object data1[][];
	 Container c;
	
	int row=0;
		
				Connection con=null;
				String url="jdbc:odbc:NitLibrary";
				Statement st=null;
				try {	
				 Class.forName("sun.jdbc.odbc.JdbcOdbcDriver");
			      con=DriverManager.getConnection(url);
				st = con.createStatement();
				
					String q,bavl,bisr;
					
					
		ResultSet rss=st.executeQuery("SELECT * FROM bk ");
		while(rss.next()){
		row++;
		}
			System.out.println(row);	
				
				data1=new Object[row][6];
				System.out.println("hai");
				Object[] Colheads={"Book id ","book name","book auther","book category","issued to","status"};
			ResultSet rs = st.executeQuery ("SELECT * FROM bk ");	//Executing the Query.
			
				for(int i1=0;i1<row;i1++)
				{
						rs.next();
						for(int j1=0;j1<6;j1++)
						{
						
							data1[i1][j1]=rs.getString(j1+1);
							
						}
										
				}
				table=new JTable(data1,Colheads);
				int v=ScrollPaneConstants.VERTICAL_SCROLLBAR_AS_NEEDED;
				int h=ScrollPaneConstants.HORIZONTAL_SCROLLBAR_AS_NEEDED;
				
				jsp=new JScrollPane(table,v,h);
				TableDisp td=new TableDisp(table);
			
				
				}
				catch(Exception sqlex) {
					
					//	JOptionPane.showMessageDialog (this, "Some prob Found.");
				
				}
			
			

		}	
//****************************************************************Member List*******************************************************
public static void listmem(){
		
	JTable table;
	JScrollPane jsp;
	Object data1[][];
	Container c;
	int row=0;
				Connection con=null;
				String url="jdbc:odbc:BITSLibrary";
				Statement st=null;
				try {	
				 Class.forName("sun.jdbc.odbc.JdbcOdbcDriver");
			      con=DriverManager.getConnection(url);
				st = con.createStatement();
				
					String q,bavl,bisr;
					
					
		ResultSet rss=st.executeQuery("SELECT * FROM userdata ");
		while(rss.next()){
		row++;
		}
			System.out.println(row);	
				
				data1=new Object[row][6];
				System.out.println("hai");
				Object[] Colheads={"useridno","username","gender","department","course","semester"};
			ResultSet rs = st.executeQuery ("SELECT * FROM userdata ");	//Executing the Query.
			
				for(int i1=0;i1<row;i1++)
				{
						rs.next();
						for(int j1=0;j1<6;j1++)
						{
						
							data1[i1][j1]=rs.getString(j1+1);
							
						}
												
				}
				table=new JTable(data1,Colheads);
				int v=ScrollPaneConstants.VERTICAL_SCROLLBAR_AS_NEEDED;
				int h=ScrollPaneConstants.HORIZONTAL_SCROLLBAR_AS_NEEDED;
				
				jsp=new JScrollPane(table,v,h);
				TableDisp td=new TableDisp(table);
			
				
				}
				catch(Exception sqlex) {
					
					//	JOptionPane.showMessageDialog (this, "Some prob Found.");
				
				}
			
			

		}		
				
    
}
